[tasks.server-components]
dependencies = [
    "build-data-collector-docker",
	"build-report-parser-docker",
	"build-slack-connector-docker"
]

[tasks.tools]
dependencies = [
	"build-data-forwarder-musl",
	"build-bundler-audit-docker",
	"build-yarn-audit-docker"
]

[tasks.cli]
command = "cargo"
args = ["make", "--cwd", "cli", "build-kiln-cli"]

[tasks.build-data-collector-docker]
command = "cargo"
args = ["make", "--cwd", "data-collector", "build-data-collector-docker"]

[tasks.build-report-parser-docker]
command = "cargo"
args = ["make", "--cwd", "report-parser", "build-report-parser-docker"]

[tasks.build-slack-connector-docker]
command = "cargo"
args = ["make", "--cwd", "slack-connector", "build-slack-connector-docker"]

[tasks.build-data-forwarder-musl]
command = "cargo"
args = ["make", "--cwd", "data-forwarder", "build-data-forwarder-musl"]

[tasks.build-bundler-audit-docker]
command = "cargo"
args = ["make", "--cwd", "tool-images/ruby/bundler-audit", "build-bundler-audit-docker"]

[tasks.build-yarn-audit-docker]
command = "cargo"
args = ["make", "--cwd", "tool-images/javascript/yarn-audit", "build-yarn-audit-docker"]
